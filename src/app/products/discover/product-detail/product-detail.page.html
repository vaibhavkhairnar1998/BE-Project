<div *ngIf="isLoading" text-center>
	<ion-spinner color="primary"></ion-spinner>
</div>

<ion-header no-border *ngIf="!isLoading">
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-back-button defaultHref="/products/tabs/discover"></ion-back-button>
		</ion-buttons>
		<ion-title>Product Detail</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content no-padding *ngIf="!isLoading">
	<ion-grid no-padding>
		<ion-row>
			<ion-col size-sm="6" offset-sm="3" no-padding>
				<ion-card>
					<ion-card-content no-padding>
						<img
							[src]="product.imageUrl"
							style="
								width: 100%;
								display: -webkit-box;
								display: -webkit-flex;
								display: -ms-flexbox;
								display: flex;
								-webkit-box-orient: vertical;
								-webkit-box-direction: normal;
								-webkit-flex-direction: column;
								-ms-flex-direction: column;
								flex-direction: column;
							"
							onerror="this.src='../../../assets/default/default-product.jpg';"
						/>
						<ion-card-header>
							<ion-card-title>{{ product.title }}</ion-card-title>

							<ion-card-subtitle>
								{{ product.price | currency: "INR" }}
							</ion-card-subtitle>
						</ion-card-header>
					</ion-card-content>
				</ion-card>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col size-sm="6" offset-sm="3" no-padding>
				<ion-card>
					<ion-card-content no-padding>
						<ion-card-header>
							<ion-card-title>Description :</ion-card-title>
							<ion-card-subtitle>
								<p text-left>
									{{ product.description }} Lorem ipsum dolor sit amet
									consectetur adipisicing elit. Temporibus unde modi accusantium
									labore natus quod obcaecati, animi consequuntur eos quidem.
									Unde ipsa dignissimos, reiciendis enim quod aspernatur id iure
									magni!
								</p>
							</ion-card-subtitle>
						</ion-card-header>
					</ion-card-content>
				</ion-card>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col size-sm="6" offset-sm="3" no-padding>
				<ion-card>
					<ion-card-content no-padding>
						<ion-card-header>
							<ion-card-title>Address :</ion-card-title>
							<div class="map">
								<app-map
									[hideHeader]="true"
									[location]="product.location"
								></app-map>
							</div>
						</ion-card-header>
					</ion-card-content>
				</ion-card>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>

<ion-footer no-border no-margin *ngIf="!isLoading">
	<ion-toolbar no-paddding no-margin>
		<ion-button
			type="button"
			(click)="onBookPlace(product.category)"
			expand="block"
			>Book</ion-button
		>
	</ion-toolbar>
</ion-footer>
